<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>CodeKernel-GitSearch</title>
<link crossorigin="anonymous" href="https://assets-cdn.github.com/assets/github/index-ad7f50e96220e5268a6bd3b51fa4db00cdb722f41d8dca6a7ee1572b2d9fb60f.css" media="all" rel="stylesheet" />
<link crossorigin="anonymous" href="https://assets-cdn.github.com/assets/github2/index-9f11074052a3551cd7bae2fba8b949844d2d7329927a7f1cb5a2c2a821f016e0.css" media="all" rel="stylesheet" />
</head><body class="logged_in  env-production windows">
<div class="code-list"><br>
<div class="code-list-item code-list-item-public ">
<p class="title"><a href=https://github.com/apache/hadoop-mapreduce/blob/cd81823732f76baefdff58421082c7f16ddab238/src/test/mapred/org/apache/hadoop/mapred/lib/TestMultipleOutputs.java>https://github.com/apache/hadoop-mapreduce/blob/cd81823732f76baefdff58421082c7f16ddab238/src/test/mapred/org/apache/hadoop/mapred/lib/TestMultipleOutputs.java</a></p>Centrality&darr;:2.9998250460537976&nbsp; Specificity&uarr;:1.4715177646857693<br>

<!-- ======================================================== -->
<!-- = Java Sourcecode to HTML automatically converted code = -->
<!-- =   Java2Html Converter 5.0 [2006-02-26] by Markus Gebhard  markus@jave.de   = -->
<!-- =     Further information: http://www.java2html.de     = -->
<div align="left" class="java">
<table border="0" cellpadding="3" cellspacing="0" bgcolor="#ffffff">
   <tr>
  <!-- start source code -->
   <td nowrap="nowrap" valign="top" align="left">
    <code>
<font color="#000000">TestMultipleOutputs.setUp</font><font color="#000000">(){</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">Path&nbsp;in<em>dir</em>&nbsp;=&nbsp;get<em>dir</em></font><font color="#000000">(</font><font color="#000000">IN_<em>dir</em></font><font color="#000000">)</font><font color="#000000">;</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">JobConf&nbsp;conf&nbsp;=&nbsp;<em>create</em>JobConf</font><font color="#000000">()</font><font color="#000000">;</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">FileSystem&nbsp;fs&nbsp;=&nbsp;FileSystem.get</font><font color="#000000">(</font><font color="#000000">conf</font><font color="#000000">)</font><font color="#000000">;</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">fs.delete</font><font color="#000000">(</font><font color="#000000">root<em>dir</em>,&nbsp;</font><font color="#7f0055"><b>true</b></font><font color="#000000">)</font><font color="#000000">;</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#7f0055"><b>if&nbsp;</b></font><font color="#000000">(</font><font color="#000000">!fs.mk<em>dir</em>s</font><font color="#000000">(</font><font color="#000000">in<em>dir</em></font><font color="#000000">))&nbsp;{</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#7f0055"><b>throw&nbsp;new&nbsp;</b></font><font color="#000000">IOException</font><font color="#000000">(</font><font color="#2a00ff">&#34;Mk<em>dir</em>s&nbsp;failed&nbsp;to&nbsp;<em>create</em>&nbsp;&#34;&nbsp;</font><font color="#000000">+&nbsp;in<em>dir</em>.toString</font><font color="#000000">())</font><font color="#000000">;</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">}</font><br />
<font color="#000000">}</font></code>
    
   </td>
  <!-- end source code -->
   </tr>
</table>
</div>
<!-- =       END of automatically generated HTML code       = -->
<!-- ======================================================== -->

</div><div class="code-list-item code-list-item-public ">
<p class="title"><a href=https://github.com/apache/hadoop-common/blob/ba438cc13dc7bc1ae27653f9599b0f3e6e7b931e/src/mapred/org/apache/hadoop/mapred/FileOutputCommitter.java>https://github.com/apache/hadoop-common/blob/ba438cc13dc7bc1ae27653f9599b0f3e6e7b931e/src/mapred/org/apache/hadoop/mapred/FileOutputCommitter.java</a></p>Centrality&darr;:2.9999935442825296&nbsp; Specificity&uarr;:2.1100677723304373<br>

<!-- ======================================================== -->
<!-- = Java Sourcecode to HTML automatically converted code = -->
<!-- =   Java2Html Converter 5.0 [2006-02-26] by Markus Gebhard  markus@jave.de   = -->
<!-- =     Further information: http://www.java2html.de     = -->
<div align="left" class="java">
<table border="0" cellpadding="3" cellspacing="0" bgcolor="#ffffff">
   <tr>
  <!-- start source code -->
   <td nowrap="nowrap" valign="top" align="left">
    <code>
<font color="#000000">FileOutputCommitter.getWorkPath</font><font color="#000000">(</font><font color="#000000">TaskAttemptContext&nbsp;taskContext,Path&nbsp;basePath</font><font color="#000000">)</font><font color="#000000">#</font><font color="#990000">0</font><font color="#000000">{</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">String&nbsp;taskid&nbsp;=&nbsp;taskContext.getTaskAttemptID</font><font color="#000000">()</font><font color="#000000">.toString</font><font color="#000000">()</font><font color="#000000">;</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">Path&nbsp;taskTmp<em>dir</em>&nbsp;=&nbsp;</font><font color="#7f0055"><b>new&nbsp;</b></font><font color="#000000">Path</font><font color="#000000">(</font><font color="#000000">jobTmp<em>dir</em>,&nbsp;</font><font color="#2a00ff">&#34;_&#34;&nbsp;</font><font color="#000000">+&nbsp;taskid</font><font color="#000000">)</font><font color="#000000">;</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#7f0055"><b>if&nbsp;</b></font><font color="#000000">(</font><font color="#000000">!fs.mk<em>dir</em>s</font><font color="#000000">(</font><font color="#000000">taskTmp<em>dir</em></font><font color="#000000">))&nbsp;{</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#7f0055"><b>throw&nbsp;new&nbsp;</b></font><font color="#000000">IOException</font><font color="#000000">(</font><font color="#2a00ff">&#34;Mk<em>dir</em>s&nbsp;failed&nbsp;to&nbsp;<em>create</em>&nbsp;&#34;&nbsp;</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">+&nbsp;taskTmp<em>dir</em>.toString</font><font color="#000000">())</font><font color="#000000">;</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">}</font><br />
<font color="#000000">}</font></code>
    
   </td>
  <!-- end source code -->
   </tr>
</table>
</div>
<!-- =       END of automatically generated HTML code       = -->
<!-- ======================================================== -->

</div><div class="code-list-item code-list-item-public ">
<p class="title"><a href=https://github.com/apache/incubator-tez/blob/e8dc9f72f9d720e5bdf7bb3005d904451a02ce2b/tez-mapreduce/src/test/java/org/apache/tez/mapreduce/processor/MapUtils.java>https://github.com/apache/incubator-tez/blob/e8dc9f72f9d720e5bdf7bb3005d904451a02ce2b/tez-mapreduce/src/test/java/org/apache/tez/mapreduce/processor/MapUtils.java</a></p>Centrality&darr;:2.9998701400812395&nbsp; Specificity&uarr;:2.9430355293715387<br>

<!-- ======================================================== -->
<!-- = Java Sourcecode to HTML automatically converted code = -->
<!-- =   Java2Html Converter 5.0 [2006-02-26] by Markus Gebhard  markus@jave.de   = -->
<!-- =     Further information: http://www.java2html.de     = -->
<div align="left" class="java">
<table border="0" cellpadding="3" cellspacing="0" bgcolor="#ffffff">
   <tr>
  <!-- start source code -->
   <td nowrap="nowrap" valign="top" align="left">
    <code>
<font color="#000000">MapUtils.configureLocal<em>dir</em>s</font><font color="#000000">(</font><font color="#000000">Configuration&nbsp;conf,String&nbsp;local<em>dir</em></font><font color="#000000">)</font><font color="#000000">#</font><font color="#990000">0</font><font color="#000000">{</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#7f0055"><b>if&nbsp;</b></font><font color="#000000">(</font><font color="#000000">work<em>dir</em>&nbsp;==&nbsp;</font><font color="#7f0055"><b>null</b></font><font color="#000000">)&nbsp;{</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#3f7f5f">//&nbsp;JOB_LOCAL_<em>dir</em>&nbsp;doesn't&nbsp;exist&nbsp;on&nbsp;this&nbsp;host&nbsp;--&nbsp;<em>create</em>&nbsp;it.</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">work<em>dir</em>&nbsp;=&nbsp;l<em>dir</em>Alloc.getLocalPathForWrite</font><font color="#000000">(</font><font color="#2a00ff">&#34;work&#34;</font><font color="#000000">,&nbsp;conf</font><font color="#000000">)</font><font color="#000000">;</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">FileSystem&nbsp;lfs&nbsp;=&nbsp;FileSystem.getLocal</font><font color="#000000">(</font><font color="#000000">conf</font><font color="#000000">)</font><font color="#000000">.getRaw</font><font color="#000000">()</font><font color="#000000">;</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#7f0055"><b>boolean&nbsp;</b></font><font color="#000000">made<em>dir</em>&nbsp;=&nbsp;</font><font color="#7f0055"><b>false</b></font><font color="#000000">;</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#7f0055"><b>try&nbsp;</b></font><font color="#000000">{</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">made<em>dir</em>&nbsp;=&nbsp;lfs.mk<em>dir</em>s</font><font color="#000000">(</font><font color="#000000">work<em>dir</em></font><font color="#000000">)</font><font color="#000000">;</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">}&nbsp;</font><font color="#7f0055"><b>catch&nbsp;</b></font><font color="#000000">(</font><font color="#000000">FileAlreadyExistsException&nbsp;e</font><font color="#000000">)&nbsp;{</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#3f7f5f">//&nbsp;Since&nbsp;all&nbsp;tasks&nbsp;will&nbsp;be&nbsp;running&nbsp;in&nbsp;their&nbsp;own&nbsp;JVM,&nbsp;the&nbsp;race&nbsp;condition</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#3f7f5f">//&nbsp;exists&nbsp;where&nbsp;multiple&nbsp;tasks&nbsp;could&nbsp;be&nbsp;trying&nbsp;to&nbsp;<em>create</em>&nbsp;this&nbsp;<em>dir</em>ectory</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#3f7f5f">//&nbsp;at&nbsp;the&nbsp;same&nbsp;time.&nbsp;If&nbsp;this&nbsp;task&nbsp;loses&nbsp;the&nbsp;race,&nbsp;it's&nbsp;okay&nbsp;because</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#3f7f5f">//&nbsp;the&nbsp;<em>dir</em>ectory&nbsp;already&nbsp;exists.</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">made<em>dir</em>&nbsp;=&nbsp;</font><font color="#7f0055"><b>true</b></font><font color="#000000">;</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">work<em>dir</em>&nbsp;=&nbsp;l<em>dir</em>Alloc.getLocalPathToRead</font><font color="#000000">(</font><font color="#2a00ff">&#34;work&#34;</font><font color="#000000">,&nbsp;conf</font><font color="#000000">)</font><font color="#000000">;</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">}</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#7f0055"><b>if&nbsp;</b></font><font color="#000000">(</font><font color="#000000">!made<em>dir</em></font><font color="#000000">)&nbsp;{</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#7f0055"><b>throw&nbsp;new&nbsp;</b></font><font color="#000000">IOException</font><font color="#000000">(</font><font color="#2a00ff">&#34;Mk<em>dir</em>s&nbsp;failed&nbsp;to&nbsp;<em>create</em>&nbsp;&#34;&nbsp;</font><font color="#000000">+&nbsp;work<em>dir</em>.toString</font><font color="#000000">())</font><font color="#000000">;</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">}</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">}</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">conf.set</font><font color="#000000">(</font><font color="#000000">MRFrameworkConfigs.JOB_LOCAL_<em>dir</em>,&nbsp;work<em>dir</em>.toString</font><font color="#000000">())</font><font color="#000000">;</font><br />
<font color="#000000">}</font></code>
    
   </td>
  <!-- end source code -->
   </tr>
</table>
</div>
<!-- =       END of automatically generated HTML code       = -->
<!-- ======================================================== -->

</div><div class="code-list-item code-list-item-public ">
<p class="title"><a href=https://github.com/apache/hadoop-mapreduce/blob/cd81823732f76baefdff58421082c7f16ddab238/src/java/org/apache/hadoop/mapreduce/jobhistory/JobHistory.java>https://github.com/apache/hadoop-mapreduce/blob/cd81823732f76baefdff58421082c7f16ddab238/src/java/org/apache/hadoop/mapreduce/jobhistory/JobHistory.java</a></p>Centrality&darr;:2.9999484502550877&nbsp; Specificity&uarr;:3.48437666231799<br>

<!-- ======================================================== -->
<!-- = Java Sourcecode to HTML automatically converted code = -->
<!-- =   Java2Html Converter 5.0 [2006-02-26] by Markus Gebhard  markus@jave.de   = -->
<!-- =     Further information: http://www.java2html.de     = -->
<div align="left" class="java">
<table border="0" cellpadding="3" cellspacing="0" bgcolor="#ffffff">
   <tr>
  <!-- start source code -->
   <td nowrap="nowrap" valign="top" align="left">
    <code>
<font color="#000000">JobHistory.init</font><font color="#000000">(</font><font color="#000000">JobTracker&nbsp;jt,JobConf&nbsp;conf,String&nbsp;hostname,long&nbsp;jobTrackerStartTime</font><font color="#000000">){</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">String&nbsp;log<em>dir</em>Loc&nbsp;=&nbsp;conf.get</font><font color="#000000">(</font><font color="#000000">JTConfig.JT_JOBHISTORY_LOCATION&nbsp;,</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#2a00ff">&#34;file:///&#34;&nbsp;</font><font color="#000000">+</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#7f0055"><b>new&nbsp;</b></font><font color="#000000">File</font><font color="#000000">(</font><font color="#000000">System.getProperty</font><font color="#000000">(</font><font color="#2a00ff">&#34;hadoop.log.<em>dir</em>&#34;</font><font color="#000000">))</font><font color="#000000">.getAbsolutePath</font><font color="#000000">()</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">+&nbsp;File.separator&nbsp;+&nbsp;</font><font color="#2a00ff">&#34;history&#34;</font><font color="#000000">)</font><font color="#000000">;</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#7f0055"><b>if&nbsp;</b></font><font color="#000000">(</font><font color="#000000">!log<em>dir</em>Fs.exists</font><font color="#000000">(</font><font color="#000000">log<em>dir</em></font><font color="#000000">)){</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#7f0055"><b>if&nbsp;</b></font><font color="#000000">(</font><font color="#000000">!log<em>dir</em>Fs.mk<em>dir</em>s</font><font color="#000000">(</font><font color="#000000">log<em>dir</em>,&nbsp;</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#7f0055"><b>new&nbsp;</b></font><font color="#000000">FsPermission</font><font color="#000000">(</font><font color="#000000">HISTORY_<em>dir</em>_PERMISSION</font><font color="#000000">)))&nbsp;{</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#7f0055"><b>throw&nbsp;new&nbsp;</b></font><font color="#000000">IOException</font><font color="#000000">(</font><font color="#2a00ff">&#34;Mk<em>dir</em>s&nbsp;failed&nbsp;to&nbsp;<em>create</em>&nbsp;&#34;&nbsp;</font><font color="#000000">+</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">log<em>dir</em>.toString</font><font color="#000000">())</font><font color="#000000">;</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">}</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">}</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">conf.set</font><font color="#000000">(</font><font color="#000000">JTConfig.JT_JOBHISTORY_LOCATION,&nbsp;log<em>dir</em>Loc</font><font color="#000000">)</font><font color="#000000">;</font><br />
<font color="#000000">}</font></code>
    
   </td>
  <!-- end source code -->
   </tr>
</table>
</div>
<!-- =       END of automatically generated HTML code       = -->
<!-- ======================================================== -->

</div></div>
</body><span class="gr__tooltip"><span class="gr__tooltip-content"></span><i class="gr__tooltip-logo"></i><span class="gr__triangle"></span></span></html>